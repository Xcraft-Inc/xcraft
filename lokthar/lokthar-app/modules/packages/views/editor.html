<div class="uk-grid">
    <div class="uk-width-5-10">
        <form name="headerForm" class="uk-form uk-form-horizontal">
            <div class="uk-form-row">
                <label class="uk-form-label">Package name</label>
                <div class="uk-form-controls">
                    <input 
                    name="package"
                    type="text"
                    ng-class="{'uk-form-danger': headerForm.package.$invalid,'uk-form-success': headerForm.package.$valid}"
                    ng-model="package.package"
                    placeholder="Package name" 
                    required>
                    <span ng-show="headerForm.package.$invalid" class="uk-text-warning">required</span>
                </div>
            </div>
            <div ng-repeat="field in headerFields" class="uk-form-row">
                <div ng-switch="field.type">
                    <div ng-switch-when="input">
                        <ng-form name="form">
                            <label class="uk-form-label">{{field.message}}</label>
                            <div class="uk-form-controls">
                                <input 
                                ng-show="field.loktharType!='multi-line'" 
                                name="input" 
                                type="text" 
                                ng-class="{'uk-form-danger': form.input.$invalid,'uk-form-success': form.input.$valid}"
                                ng-model="package[field.name]" 
                                validator="field.validate" 
                                placeholder="{{field.message}}" />
                                <textarea 
                                ng-show="field.loktharType=='multi-line'" 
                                name="input"  
                                ng-class="{'uk-form-danger': form.input.$invalid,'uk-form-success': form.input.$valid}"
                                ng-model="package[field.name]" 
                                validator="field.validate" 
                                placeholder="{{field.message}}" ></textarea>

                                <span ng-show="form.input.$invalid" class="uk-text-warning">invalid</span>
                            </div>
                        </ng-form>
                    </div>                                          
                    <div ng-switch-when="checkbox">
                        <span class="uk-form-label">{{field.message}}</span>
                        <div class="uk-form-controls uk-form-controls-text">
                            <div ng-repeat="choice in field.choices">
                                <div ng-switch="choice.type">
                                    <div ng-switch-when="separator">
                                        <p>{{choice.line}}</p>
                                    </div>
                                    <div ng-switch-default>
                                        <input 
                                        type="checkbox" 
                                        checklist-model="package[field.name]" 
                                        checklist-value="choice.name"  
                                        ng-checked="{{choice.checked}}"> 
                                        <label>{{choice.name}}</label><br>
                                    </div>
                                </div>                   
                            </div>
                        </div>
                    </div>
                </div>          
            </div>
        </form>
    </div>
    <div class="uk-width-5-10">
        Preview:
        <div class="uk-panel uk-panel-box">
            <div class="uk-panel-badge uk-badge uk-badge-danger">v{{package.version}}</div>
            <h3 class="uk-panel-title uk-text-bold"><a href="" class="uk-icon-button uk-icon-puzzle-piece"></a> {{package.package}}</h3>
            <small ng-repeat="arch in package.architecture"><span class="uk-badge">{{arch}}</span></small>
            <small class="uk-text-muted uk-text-right"><i class="uk-icon-beer"></i> {{package.maintainerName}}</small>
            <small class="uk-text-muted uk-text-right"><i class="uk-icon-envelope-o"></i> {{package.maintainerEmail}}</small>
            <p class="uk-text-large">{{package.descriptionBrief}}</p>
            <p class="uk-text-small">{{package.descriptionLong}}</p>
        </div>
        <br>
        <button class="uk-button uk-width-1-1 uk-margin-small-bottom" ng-click="createPackage()"><i class="uk-icon-gears"></i> create package </button>
    </div>
</div>