<h2>Step {{editorStep}} - Package header </h2>
<form name="packageForm" class="uk-form uk-form-horizontal">
  <div ng-repeat="field in headerFields" class="uk-form-row">
    <div ng-switch="field.type">
      <div ng-switch-when="input">
          <ng-form name="form">
              <label class="uk-form-label">{{field.message}}</label>
              <div class="uk-form-controls">
                <input
                ng-if="field.loktharType!='multi-line'"
                name="input"
                type="text"
                ng-class="{'uk-form-danger' : form.input.$invalid,
                           'uk-form-success': form.input.$valid}"
                ng-model="header[field.name]"
                ng-change="field
                            .actions['validate']
                            .sendCommand(header[field.name])"
                validator="field.actions['validate'].result"
                placeholder="{{field.message}}"
                />

                <textarea
                ng-if="field.loktharType=='multi-line'"
                name="input"
                ng-class="{'uk-form-danger' : form.input.$invalid,
                           'uk-form-success': form.input.$valid}"
                ng-model="header[field.name]"
                ng-change="field
                            .actions['validate']
                            .sendCommand(header[field.name])"
                validator="field.actions['validate'].result"
                placeholder="{{field.message}}"
                >
                </textarea>

                <span
                ng-show="form.input.$invalid"
                class="uk-text-warning">
                  {{field.actions['validate'].result}}
                </span>
              </div>
          </ng-form>
      </div>
      <div ng-switch-when="checkbox">
          <span class="uk-form-label">{{field.message}}</span>
          <div class="uk-form-controls uk-form-controls-text">
              <div ng-repeat="choice in field.actions['loadChoices'].result">
                  <div ng-switch="choice.type">
                      <div ng-switch-when="separator">
                          <p>{{choice.line}}</p>
                      </div>
                      <div ng-switch-default>
                          <input
                          type="checkbox"
                          checklist-model="header[field.name]"
                          checklist-value="choice.name">
                          <label>{{choice.name}}</label><br>
                      </div>
                  </div>
              </div>
          </div>
        </div>
    </div>
  </div>
  <br>
  <button
  ng-disabled="packageForm.$invalid
            || header['architecture'].length == 0
            || header['architecture'] == undefined"
  class="uk-button uk-button-primary uk-width-1-1 uk-margin-small-bottom"
  ng-click="nextStep()">
  <i class="uk-icon-gears"></i> next step
  </button>
</form>
